@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Passenger Dashboard</title>
    <link rel="stylesheet" href="~/css/site.css" />
</head>
<body>
    <h1>Welcome to the Passenger Dashboard</h1>
    <p>This area is accessible only to users with the "Passenger" role.</p>

    <script>
        // Role-based protection
        const token = localStorage.getItem("jwt_token");

        if (!token) {
            alert("You must be logged in.");
            window.location.href = "/";
        } else {
            const payload = JSON.parse(atob(token.split('.')[1]));
            const role = payload["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];

            if (role !== "Passenger") {
                alert("Access Denied. Only Passengers allowed.");
                window.location.href = "/";
            }
        }
    </script>
</body>
</html>
